<!doctype html>
<html>
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Admin Session</title><link rel="stylesheet" href="style.css"></head>
<body>
<header class="topbar"><div class="brand">ProctorVision - Admin</div><nav class="navlinks"><a href="admin.html">Back</a></nav></header>
<div class="container">
  <h2>Session Detail</h2>
  <div id="detail"></div>
</div>

<script>
function getQuery(){const q={};location.search.slice(1).split('&').forEach(p=>{if(!p) return; const kv=p.split('='); q[decodeURIComponent(kv[0])]=decodeURIComponent(kv[1]||'')}); return q}
const q = getQuery();
const sid = q.session || localStorage.getItem('sessionId');
const events = JSON.parse(localStorage.getItem('events')||'[]').filter(e=>e.sessionId===sid);
const detail = document.getElementById('detail');
detail.innerHTML = `<div class="card-plain"><h3>Session ${sid}</h3><p class="small">Events: ${events.length}</p><ul>${events.map(ev=>`<li>${ev.ts} — ${ev.code} — ${ev.text}</li>`).join('')}</ul></div>`;
</script>
</body>
</html>
